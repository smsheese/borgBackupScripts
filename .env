# ============================================================================
# BORGMATIC BACKUP CONFIGURATION
# ============================================================================
# This file contains environment variables for borgmatic backup configurations
# Copy this to .env and fill in your actual values

# ----------------------------------------------------------------------------
# DATABASE CONNECTION
# ----------------------------------------------------------------------------
DB_HOST="localhost"
DB_PORT="3306"
DB_USER="root"
DB_PASS="root"

# ----------------------------------------------------------------------------
# BORG REPOSITORY SETTINGS
# ----------------------------------------------------------------------------
# SSH connection details
SSH_PORT=22
SSH_PRIVATE_KEY=~/.ssh/borgBackup
BORG_PASSPHRASE="$tr0ngRepoP@ssw0rd"

# Remote server details
BORG_REMOTE_USER="remoteUser"
BORG_REMOTE_HOST="remote.host"

# Repository paths (separate for databases and files)
BORG_REMOTE_PATH_DB="./databases"
BORG_REMOTE_PATH_FILES="./files"

# Compression type (lzma, zlib, bzip2, none, auto, etc.)
BORG_COMPRESSION="lzma"

# ----------------------------------------------------------------------------
# RETENTION POLICIES
# ----------------------------------------------------------------------------
# Database retention (more aggressive, hourly backups)
BORG_KEEP_DB="--keep-hourly=168 --keep-daily=30 --keep-weekly=15 --keep-monthly=36 --keep-yearly=10"

# Files retention (less aggressive)
BORG_KEEP_FILES="--keep-daily=7 --keep-weekly=12 --keep-monthly=12 --keep-yearly=10"

# ----------------------------------------------------------------------------
# NOTIFICATIONS (TELEGRAM VIA APPRISE)
# ----------------------------------------------------------------------------
# Telegram Bot Token and Chat ID for notifications
# Format: tgram://BOT_TOKEN/CHAT_ID
TELEGRAM_BOT_TOKEN="your_bot_token_here"
TELEGRAM_CHAT_ID="your_chat_id_here"
APRISE_URL="tgram://${TELEGRAM_BOT_TOKEN}/${TELEGRAM_CHAT_ID}"

# ----------------------------------------------------------------------------
# HEALTH CHECKS (OPTIONAL)
# ----------------------------------------------------------------------------
# Get a ping URL from https://healthchecks.io/
# Leave empty to disable health checks
HEALTHCHECKS_PING_URL=""

# ----------------------------------------------------------------------------
# CLOUD PANEL SETTINGS
# ----------------------------------------------------------------------------
# Base path where CloudPanel creates user directories
CLOUDPANEL_HOME_BASE="/home"
# Subdirectory pattern for web files
CLOUDPANEL_HTDOCS_SUBDIR="htdocs"

# ----------------------------------------------------------------------------
# BACKUP EXCLUSIONS (PATTERNS)
# ----------------------------------------------------------------------------
# Directories/files to exclude from file backups (one per line)
# These will be added to borgmatic patterns
EXCLUDE_PATTERNS=(
    "*/node_modules"
    "*/.git"
    "*/.env"
    "*/logs"
    "*/cache"
    "*/tmp"
)

# ----------------------------------------------------------------------------
# SYSTEMD TIMER SETTINGS
# ----------------------------------------------------------------------------
# Schedule for database backups (cron format)
# Default: Hourly at minute 0
DATABASE_BACKUP_SCHEDULE="0 * * * *"

# Schedule for file backups (cron format)
# Default: Every 6 hours at minute 30
FILE_BACKUP_SCHEDULE="30 */6 * * *"