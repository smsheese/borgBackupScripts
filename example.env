# ============================================================================
# BORGMATIC BACKUP CONFIGURATION
# ============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to git

# ----------------------------------------------------------------------------
# DATABASE CONNECTION (MySQL/MariaDB)
# ----------------------------------------------------------------------------
DB_HOST="localhost"
DB_PORT="3306"
DB_USER="root"
DB_PASS="your_database_root_password"

# ----------------------------------------------------------------------------
# BORG REPOSITORY (REMOTE BACKUP SERVER)
# ----------------------------------------------------------------------------
BORG_REMOTE_USER="backup_user"
BORG_REMOTE_HOST="backup.server.com"
BORG_PASSPHRASE="strong_encryption_passphrase_here"
SSH_PRIVATE_KEY=~/.ssh/borgBackup
SSH_PORT=22

# ----------------------------------------------------------------------------
# REPOSITORY PATHS (ON REMOTE SERVER)
# ----------------------------------------------------------------------------
BORG_REMOTE_PATH_DB="./databases"
BORG_REMOTE_PATH_FILES="./files"

# ----------------------------------------------------------------------------
# COMPRESSION TYPE
# ----------------------------------------------------------------------------
# Options: none, lz4, zlib, lzma, zstd
# lzma = best compression, slower
# lz4 = fast compression, larger files
BORG_COMPRESSION="lzma"

# ----------------------------------------------------------------------------
# CLOUDPANEL PATHS
# ----------------------------------------------------------------------------
CLOUDPANEL_HOME_BASE="/home"
CLOUDPANEL_HTDOCS_SUBDIR="htdocs"

# ----------------------------------------------------------------------------
# BACKUP SCHEDULES
# ----------------------------------------------------------------------------
# NOTE: These are CRON format schedules for reference
# Actual schedules are configured in systemd timers:
#   - Database: /etc/systemd/system/borgmatic-databases.timer
#   - Files: /etc/systemd/system/borgmatic-files.timer
#
# Cron format: minute hour day-of-month month day-of-week
# Example: "0 * * * *" = Every hour at minute 0

# Database backup schedule (cron format)
DATABASE_BACKUP_SCHEDULE="0 * * * *"      # Every hour at minute 0

# Files backup schedule (cron format)
FILE_BACKUP_SCHEDULE="0 45 3 1/1 * ? *"  # Daily at 3:45 AM

# ----------------------------------------------------------------------------
# RETENTION POLICIES
# ----------------------------------------------------------------------------
# NOTE: These are for reference only
# Actual retention policies are configured in YAML files:
#   - Databases: config-databases.yaml (retention section)
#   - Files: config-files.yaml (retention section)
#
# Current settings:
#   Databases: keep_hourly=168, keep_daily=30, keep_weekly=15, keep_monthly=36, keep_yearly=10
#   Files: keep_daily=7, keep_weekly=12, keep_monthly=12, keep_yearly=10

BORG_KEEP_DB="--keep-hourly=168 --keep-daily=30 --keep-weekly=15 --keep-monthly=36 --keep-yearly=10"
BORG_KEEP_FILES="--keep-daily=7 --keep-weekly=12 --keep-monthly=12 --keep-yearly=10"

# ----------------------------------------------------------------------------
# NOTIFICATIONS
# ----------------------------------------------------------------------------
# Apprise supports 50+ notification services
# Examples: tgram://BOT_TOKEN/CHAT_ID, mailto://user@domain.com, etc.
# Full list: https://github.com/caronc/apprise#supported-notifications
APRISE_URL=""

# Legacy Telegram variables (for reference - use APRISE_URL instead)
# Format: tgram://BOT_TOKEN/CHAT_ID
TELEGRAM_BOT_TOKEN=""
TELEGRAM_CHAT_ID=""

# ----------------------------------------------------------------------------
# HEALTH CHECKS (OPTIONAL)
# ----------------------------------------------------------------------------
# healthchecks.io or similar service for monitoring backup status
HEALTHCHECKS_PING_URL=""

# ----------------------------------------------------------------------------
# EXCLUDE PATTERNS
# ----------------------------------------------------------------------------
# NOTE: These are for reference only
# Actual patterns are configured in config-files.yaml under 'patterns:' section
# These exclude common unnecessary files from backups

EXCLUDE_PATTERNS=(
    "*/node_modules"
    "*/.env"
    "*/.env.*"
    "*/logs"
    "*/log"
    "*/cache"
    "*/tmp"
    "*/temp"
    "*/backup"
    "*/backups"
    "*/.vscode"
    "*/.idea"
    "*/.DS_Store"
    "*/Thumbs.db"
)

# ----------------------------------------------------------------------------
# TIMEZONE (OPTIONAL)
# ----------------------------------------------------------------------------
# Leave empty to use system default
# Used by systemd timers if configured
TIMEZONE=""